<!DOCTYPE html><html>
<head>
<title>3 Operators and Expressions‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4</title>
<!--Generated on Tue Oct 10 11:49:58 2017 by LaTeXML (version 0.8.2) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on October 10, 2017.-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-report.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<link rel="stylesheet" href="LaTeXML-navbar-left.css" type="text/css">
<script src="LatexML-maybeMathJax.js" type="text/javascript"></script>
<link rel="up" href="MSL.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="start" href="MSL.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="prev" href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="next" href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Chx1.html" title="Preface ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch1.html" title="Chapter 1 Introduction ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
</head>
<body>
<nav class="ltx_page_navbar"><a href="MSL.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">Modelica® - A Unified Object-Oriented Language for Systems Modeling<span class="ltx_text"> </span>Language Specification<span class="ltx_text"> </span>Version 3.4</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_document">
<a href="MSL.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">Modelica® - A Unified Object-Oriented Language for Systems Modeling<span class="ltx_text"> </span>Language Specification<span class="ltx_text"> </span>Version 3.4</span></a>
<ul class="ltx_toclist ltx_toclist_document">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Chx1.html" title="Preface ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">Preface</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch1.html" title="Chapter 1 Introduction ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter ltx_ref_self">
<span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Operators and Expressions</span></span>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="#S1" title="3.1 Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#S2" title="3.2 Operator Precedence and Associativity ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Operator Precedence and Associativity</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S3" title="3.3 Evaluation Order ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Evaluation Order</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S3.SS1" title="3.3.1 Example: Guarding Expressions Against Incorrect Evaluation ‣ 3.3 Evaluation Order ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3.1 </span>Example: Guarding Expressions Against Incorrect Evaluation</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#S4" title="3.4 Arithmetic Operators ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Arithmetic Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#S5" title="3.5 Equality, Relational, and Logical Operators ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.5 </span>Equality, Relational, and Logical Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S6" title="3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6 </span>Miscellaneous Operators and Variables</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS1" title="3.6.1 String Concatenation ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.1 </span>String Concatenation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS2" title="3.6.2 Array Constructor Operator ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.2 </span>Array Constructor Operator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS3" title="3.6.3 Array Concatenation Operator ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.3 </span>Array Concatenation Operator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS4" title="3.6.4 Array Range Operator ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.4 </span>Array Range Operator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS5" title="3.6.5 If-Expressions ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.5 </span>If-Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS6" title="3.6.6 Member Access Operator ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.6 </span>Member Access Operator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S6.SS7" title="3.6.7 Built-in Variable time ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.6.7 </span>Built-in Variable time</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S7" title="3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.7 </span>Built-in Intrinsic Operators with Function Syntax</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#S7.SS1" title="3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.7.1 </span>Numeric Functions and Conversion Functions</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS1.SSS1" title="Event Triggering Mathematical Functions ‣ 3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">Event Triggering Mathematical Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS1.SSS2" title="Built-in Mathematical Functions and External Built-in Functions ‣ 3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">Built-in Mathematical Functions and External Built-in Functions</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#S7.SS2" title="3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.7.2 </span>Derivative and Special Purpose Operators with Function Syntax</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS2.SSS1" title="delay ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">delay</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS2.SSS2" title="spatialDistribution ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">spatialDistribution</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS2.SSS3" title="cardinality (deprecated) ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">cardinality (deprecated)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS2.SSS4" title="homotopy ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">homotopy</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS2.SSS5" title="semiLinear ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">semiLinear</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS2.SSS6" title="getInstanceName ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">getInstanceName</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#S7.SS3" title="3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.7.3 </span>Event-Related Operators with Function Syntax</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS3.SSS1" title="pre ‣ 3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">pre</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S7.SS3.SSS2" title="noEvent and smooth ‣ 3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">noEvent and smooth</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#S8" title="3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.8 </span>Variability of Expressions</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S8.SS1" title="3.8.1 Constant Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.8.1 </span>Constant Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S8.SS2" title="3.8.2 Parameter Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.8.2 </span>Parameter Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S8.SS3" title="3.8.3 Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.8.3 </span>Discrete-Time Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#S8.SS4" title="3.8.4 Continuous-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.8.4 </span>Continuous-Time Expressions</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a></li>
</ul>
</li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="MSL.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title">Modelica® - A Unified Object-Oriented Language for Systems Modeling<span class="ltx_text"> </span>Language Specification<span class="ltx_text"> </span>Version 3.4</span></a><a href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a><a href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_chapter ltx_authors_1line">
<h1 class="ltx_title ltx_title_chapter">
<span class="ltx_tag ltx_tag_chapter">Chapter 3 </span>Operators and Expressions</h1>
<div class="ltx_date ltx_role_creation"></div>

<div id="p1" class="ltx_para">
<p class="ltx_p"><a name="operators-and-expressions" id="operators-and-expressions" class="ltx_anchor"></a></p>
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">The lexical units are combined to form even larger building blocks such
as expressions according to the rules given by the expression part of
the Modelica grammar in Appendix B.</p>
</div>
<div id="p3" class="ltx_para">
<p class="ltx_p">This chapter describes the evaluation rules for expressions, the concept
of expression variability, built-in mathematical operators and
functions, and the built-in special Modelica operators with function
syntax.</p>
</div>
<div id="p4" class="ltx_para">
<p class="ltx_p">Expressions can contain variables and constants, which have types,
predefined or user defined. The predefined built-in types of Modelica
are Real, Integer, Boolean, String, and enumeration types which are
presented in more detail in Section <a href="Ch4.html#S8" title="4.8 Predefined Types ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.8</span></a>. [<em class="ltx_emph">The abbreviated
predefined type information below is given as background information for
the rest of the presentation.</em>]</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.1 </span>Expressions</h2>

<div id="S1.p1" class="ltx_para">
<p class="ltx_p">Modelica equations, assignments and declaration equations contain
expressions.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p class="ltx_p">Expressions can contain basic operations, +, -, *, /, ^, etc. with
normal precedence as defined in the Table in Section <a href="#S2" title="3.2 Operator Precedence and Associativity ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> and the
grammar in Appendix B. The semantics of the operations is defined for
both scalar and array arguments in Section 10.6.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p class="ltx_p">It is also possible to define functions and call them in a normal
fashion. The function call syntax for both positional and named
arguments is described in Section 12.4.1 and for vectorized calls in
Section 12.4.4. The built-in array functions are given in Section
10.1.1 and other built-in operators in Section <a href="#S7" title="3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_nameref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.7 </span>Built-in Intrinsic Operators with Function Syntax</span></a>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.2 </span>Operator Precedence and Associativity</h2>

<div id="S2.p1" class="ltx_para">
<p class="ltx_p"><a name="operator-precedence" id="operator-precedence" class="ltx_anchor"></a></p>
</div>
<div id="S2.p2" class="ltx_para">
<p class="ltx_p">Operator precedence determines the order of evaluation of operators in
an expression. An operator with higher precedence is evaluated before an
operator with lower precedence in the same expression.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p class="ltx_p">The following table presents all the expression operators in order of
precedence from highest to lowest, as derived from the Modelica grammar
in Appendix B. All operators are binary except the postfix operators
and those shown as unary together with <em class="ltx_emph">expr</em>, the conditional
operator, the array construction operator {} and concatenation
operator [ ], and the array range constructor which is either binary
or ternary. Operators with the same precedence occur at the same line of
the table:</p>
</div>
<figure id="T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3.1: </span>Operators</figcaption>
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;"><em class="ltx_emph">Operator Group</em></th>
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_r ltx_border_t" style="width:113.8pt;"><em class="ltx_emph">Operator Syntax</em></th>
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_r ltx_border_t" style="width:99.6pt;"><em class="ltx_emph">Examples</em></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">postfix array index operator</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">[]</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">arr[index]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">postfix access operator</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">.</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">a.b</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">postfix function call</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">
<em class="ltx_emph">funcName</em>(<em class="ltx_emph">function-arguments</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">sin(4.36)</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">array construct/concat</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">{<em class="ltx_emph">expressions</em>}[<em class="ltx_emph">expressions</em>] [<em class="ltx_emph">expressions</em>;<em class="ltx_emph">expressions</em>…]</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">{2,3} [5,6][2,3; 7,8]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">exponentiation</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">^</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">2^3</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">multiplicative and array elementwise multiplicative</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">* / .* ./</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">2*3 2/3 [1,2;3,4].*[2,3;5,6]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">additive and array elementwise additive</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">+ - +<em class="ltx_emph">expr</em> -<em class="ltx_emph">expr</em> .+ .-</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">[1,2;3,4].+[2,3;5,6]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">relational</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">&lt; &lt;= &gt; &gt;= == &lt;&gt;</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">a&lt;b, a&lt;=b, a&gt;b, …</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">unary negation</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">not <em class="ltx_emph">expr</em>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">not b1</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">logical and</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">and</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">b1 and b2</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">logical or</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">or</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">b1 or b2</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">array range</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">
<em class="ltx_emph">expr</em> : <em class="ltx_emph">expr</em>
<em class="ltx_emph">expr</em> : <em class="ltx_emph">expr</em> : <em class="ltx_emph">expr</em>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">1:5
start:step:stop</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">conditional</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:113.8pt;">if <em class="ltx_emph">expr</em> then <em class="ltx_emph">expr</em> else <em class="ltx_emph">expr</em>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:99.6pt;">if b
then 3 else x</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">named argument</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:113.8pt;">
<em class="ltx_emph">ident</em> = <em class="ltx_emph">expr</em>
</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:99.6pt;">x = 2.26</td>
</tr>
</tbody>
</table>
</figure>
<div id="S2.p4" class="ltx_para">
<p class="ltx_p">The conditional operator may also include elseif-clauses. Equality = and
assignment := are not expression operators since they are allowed only
in equations and in assignment statements respectively. All binary
expression operators are left associative, except exponentiation which
is non-associative. The array range operator is non-associative.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">The unary minus and plus in Modelica is slightly different than
in Mathematica and in MATLAB</em><span class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup>MATLAB is a registered trademark
of MathWorks Inc.</span></span></span><em class="ltx_emph">, since the following expressions are illegal
(whereas in Mathematica</em><span class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup>Mathematica is a registered trademark
of Wolfram Research Inc.</span></span></span> <em class="ltx_emph">and in MATLAB these are valid
expressions):</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,MiotMiAvLyA9IC00IGluIE1hdGhlbWF0aWNhL01BVExBQjsgaXMgaWxsZWdhbCBpbiBNb2RlbGlj%0AYQotLTIgLy8gPSAyIGluIE1hdGhlbWF0aWNhL01BVExBQjsgaXMgaWxsZWdhbCBpbiBNb2RlbGlj%0AYQorKzIgLy8gPSAyIGluIE1hdGhlbWF0aWNhL01BVExBQjsgaXMgaWxsZWdhbCBpbiBNb2RlbGlj%0AYQoyLS0yIC8vID0gNCBpbiBNYXRoZW1hdGljYS9NQVRMQUI7IGlzIGlsbGVnYWwgaW4gTW9kZWxp%0AY2E=%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">2*-2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>-4<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Mathematica/MATLAB;<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>illegal<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Modelica</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">–2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Mathematica/MATLAB;<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>illegal<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Modelica</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">++2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Mathematica/MATLAB;<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>illegal<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Modelica</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">2–2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>4<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Mathematica/MATLAB;<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>illegal<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>Modelica</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph">Non-associative exponentation and array range operator:</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,eF55XnogLy8gTm90IGxlZ2FsLCB1c2UgcGFyZW50aGVzaXMgdG8gbWFrZSBpdCBjbGVhcgphOmI6%0AYzpkOmU6ZjpnIC8vIE5vdCBsZWdhbCwgYW5kIHNjYWxhciBhcmd1bWVudHMgZ2l2ZXMgbm8gbGVn%0AYWwKaW50ZXJwcmV0YXRpb24u%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">^</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span class="ltx_text" style="font-size:80%;">^</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">z</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Not<span class="ltx_text ltx_lst_space"> </span>legal,<span class="ltx_text ltx_lst_space"> </span>use<span class="ltx_text ltx_lst_space"> </span>parenthesis<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>make<span class="ltx_text ltx_lst_space"> </span>it<span class="ltx_text ltx_lst_space"> </span>clear</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">a</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">b</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">c</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">d</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">e</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">f</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">g</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Not<span class="ltx_text ltx_lst_space"> </span>legal,<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>scalar<span class="ltx_text ltx_lst_space"> </span>arguments<span class="ltx_text ltx_lst_space"> </span>gives<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>legal</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">interpretation.</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph"></em>]</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.3 </span>Evaluation Order</h2>

<div id="S3.p1" class="ltx_para">
<p class="ltx_p"><a name="evaluation-order" id="evaluation-order" class="ltx_anchor"></a>
</p>
</div>
<div id="S3.p2" class="ltx_para">
<p class="ltx_p">A tool is free to solve equations, reorder expressions and to not
evaluate expressions if their values do not influence the result (e.g.
short-circuit evaluation of Boolean expressions). If-statements and
if-expressions guarantee that their clauses are only evaluated if the
appropriate condition is true, but relational operators generating state
or time events will during continuous integration have the value from
the most recent event.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p class="ltx_p">If a numeric operation overflows the result is undefined. For literals
it is recommended to automatically convert the number to another type
with greater precision.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3.1 </span>Example: Guarding Expressions Against Incorrect Evaluation</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example. If one wants to guard an expression against incorrect
evaluation, it should be guarded by an if:</em></p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Qm9vbGVhbiB2W25dOwogIEJvb2xlYW4gYjsKICBJbnRlZ2VyIEk7CmVxdWF0aW9uCiAgeD12W0ld%0AIGFuZCAoST49MSBhbmQgSTw9bik7IC8vIEludmFsaWQKICB4PWlmIChJPj0xIGFuZCBJPD1uKSB0%0AaGVuIHZbSV0gZWxzZSBmYWxzZTsgLy8gQ29ycmVjdA==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">n</span><span class="ltx_text" style="font-size:80%;">];</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">b</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">and</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">&gt;=1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">and</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">&lt;=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">n</span><span class="ltx_text" style="font-size:80%;">);</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Invalid</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">&gt;=1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">and</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">&lt;=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">n</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">I</span><span class="ltx_text" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">false</span><span class="ltx_text" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Correct</span>
</div>
</div>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">To guard square against square root of negative number use</em>
noEvent<em class="ltx_emph">:</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBkZXIoaCk9aWYgaD4wIHRoZW4gLWMqc3FydChoKSBlbHNlIDA7IC8vIEluY29ycmVjdAogIGRl%0AcihoKT1pZiBub0V2ZW50KGg+MCkgdGhlbiAtYypzcXJ0KGgpIGVsc2UgMDsgLy8gQ29ycmVjdA==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">der</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">h</span><span class="ltx_text" style="font-size:80%;">)=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">h</span><span class="ltx_text" style="font-size:80%;">&gt;0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">c</span><span class="ltx_text" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">sqrt</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">h</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Incorrect</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">der</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">h</span><span class="ltx_text" style="font-size:80%;">)=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">noEvent</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">h</span><span class="ltx_text" style="font-size:80%;">&gt;0)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">c</span><span class="ltx_text" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">sqrt</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">h</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Correct</span>
</div>
</div>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.4 </span>Arithmetic Operators</h2>

<div id="S4.p1" class="ltx_para">
<p class="ltx_p">Modelica supports five binary arithmetic operators that operate on any
numerical type:</p>
</div>
<figure id="T2" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">^</td>
<td class="ltx_td ltx_align_left">Exponentiation</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td"></td>
<td class="ltx_td ltx_align_left">Multiplication</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">/</td>
<td class="ltx_td ltx_align_left">Division</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">+</td>
<td class="ltx_td ltx_align_left">Addition</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">-</td>
<td class="ltx_td ltx_align_left">Subtraction</td>
</tr>
</table>
</figure>
<div id="S4.p2" class="ltx_para">
<p class="ltx_p">Some of these operators can also be applied to a combination of a scalar
type and an array type, see Section 10.6.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p class="ltx_p">The syntax of these operators is defined by the following rules from the
Modelica grammar:</p>
<div class="ltx_listing ltx_lst_language_grammar ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YXJpdGhtZXRpY19leHByZXNzaW9uIDoKICBbIGFkZF9vcCBdIHRlcm0geyBhZGRfb3AgdGVybSB9%0ACgphZGRfb3AgOgogICIrIiB8ICItIgoKdGVybSA6CiAgZmFjdG9yIHsgbXVsX29wIGZhY3RvciB9%0ACgptdWxfb3AgOgogICIqIiB8ICIvIgoKZmFjdG9yIDoKICBwcmltYXJ5IFsgIl4iIHByaW1hcnkg%0AXQ==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">arithmetic_expression</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">add_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">term</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">add_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">term</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">}</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">add_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"+"</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"-"</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">term</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">factor</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">mul_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">factor</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">}</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">mul_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"*"</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"/"</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">factor</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">primary</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"^"</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">primary</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">]</span>
</div>
</div>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.5 </span>Equality, Relational, and Logical Operators</h2>

<div id="S5.p1" class="ltx_para">
<p class="ltx_p"><a name="equality-relational-and-logical-operators" id="equality-relational-and-logical-operators" class="ltx_anchor"></a></p>
</div>
<div id="S5.p2" class="ltx_para">
<p class="ltx_p">Modelica supports the standard set of relational and logical operators,
all of which produce the standard boolean values true or false.</p>
</div>
<figure id="T3" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">&gt;</td>
<td class="ltx_td ltx_align_left">greater than</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">&gt;=</td>
<td class="ltx_td ltx_align_left">greater than or equal</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">&lt;</td>
<td class="ltx_td ltx_align_left">less than</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">&lt;=</td>
<td class="ltx_td ltx_align_left">less than or equal to</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">==</td>
<td class="ltx_td ltx_align_left">equality within expressions</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">&lt;&gt;</td>
<td class="ltx_td ltx_align_left">Inequality</td>
</tr>
</table>
</figure>
<div id="S5.p3" class="ltx_para">
<p class="ltx_p">A single equals sign = is never used in relational expressions, only in
equations (Chapter 8, Section 10.6.1) and in function calls using
named parameter passing (Section 12.4.1).</p>
</div>
<div id="S5.p4" class="ltx_para">
<p class="ltx_p">The following logical operators are defined:</p>
</div>
<figure id="T4" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_bold">not</span></td>
<td class="ltx_td ltx_align_left">negation, unary operator</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_bold">and</span></td>
<td class="ltx_td ltx_align_left">logical and</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_font_bold">or</span></td>
<td class="ltx_td ltx_align_left">logical or</td>
</tr>
</table>
</figure>
<div id="S5.p5" class="ltx_para">
<p class="ltx_p">The grammar rules define the syntax of the relational and logical
operators.</p>
<div class="ltx_listing ltx_lst_language_grammar ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bG9naWNhbF9leHByZXNzaW9uIDoKICBsb2dpY2FsX3Rlcm0geyBvciBsb2dpY2FsX3Rlcm0gfQoK%0AbG9naWNhbF90ZXJtIDoKICBsb2dpY2FsX2ZhY3RvciB7IGFuZCBsb2dpY2FsX2ZhY3RvciB9Cgps%0Ab2dpY2FsX2ZhY3RvciA6CiAgWyBub3QgXSByZWxhdGlvbgoKcmVsYXRpb24gOgogICBhcml0aG1l%0AdGljX2V4cHJlc3Npb24gWyByZWxfb3AgYXJpdGhtZXRpY19leHByZXNzaW9uIF0KCnJlbF9vcCA6%0ACiAgIjwiIHwgIjw9IiB8ICI+IiB8ICI+PSIgfCAiPT0iIHwgIjw+Ig==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_expression</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_term</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">or</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_term</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">}</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_term</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_factor</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">and</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_factor</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">}</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">logical_factor</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">not</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">relation</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">relation</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">   </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">arithmetic_expression</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">rel_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">arithmetic_expression</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">]</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">rel_op</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"&lt;"</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"&lt;="</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"&gt;"</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"&gt;="</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"=="</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">|</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"&lt;&gt;"</span>
</div>
</div>
</div>
<div id="S5.p6" class="ltx_para">
<p class="ltx_p">The following holds for relational operators:</p>
</div>
<div id="S5.p7" class="ltx_para">
<ul id="I1" class="ltx_itemize">
<li id="I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i1.p1" class="ltx_para">
<p class="ltx_p">Relational operators &lt;, &lt;=, &gt;,
&gt;=, ==, &lt;&gt;, are only defined for
scalar operands of simple types. The result is Boolean and is true or
false if the relation is fulfilled or not, respectively.</p>
</div>
</li>
<li id="I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i2.p1" class="ltx_para">
<p class="ltx_p">For operands of type String, str1 op str2 is for each relational
operator, op, defined in terms of the C-function strcmp as
strcmp(str1,str2) op 0.</p>
</div>
</li>
<li id="I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i3.p1" class="ltx_para">
<p class="ltx_p">For operands of type Boolean, false&lt;true.</p>
</div>
</li>
<li id="I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i4.p1" class="ltx_para">
<p class="ltx_p">For operands of enumeration types, the order is given by the order of
declaration of the enumeration literals.</p>
</div>
</li>
<li id="I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i5.p1" class="ltx_para">
<p class="ltx_p">In relations of the form v1 == v2 or v1 &lt;&gt; v2,
v1 or v2 shall, unless used in a function, not be a subtype of Real.
[<em class="ltx_emph">The reason for this rule is that relations with Real
arguments are transformed to state events (see Events, Section</em>
8.5<em class="ltx_emph">) and this transformation becomes unnecessarily complicated
for the == and &lt;&gt; relational operators (e.g.
two crossing functions instead of one crossing function needed,
epsilon strategy needed even at event instants). Furthermore, testing
on equality of Real variables is questionable on machines where the
number length in registers is different to number length in main
memory</em>].</p>
</div>
</li>
<li id="I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I1.i6.p1" class="ltx_para">
<p class="ltx_p">Relations of the form ‘‘v1 rel_op v2’’, with v1 and v2 variables and
rel_op a relational operator are called elementary relations. If
either v1 or v2 or both variables are a subtype of Real, the relation
is called a Real elementary relation.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.6 </span>Miscellaneous Operators and Variables</h2>

<div id="S6.p1" class="ltx_para">
<p class="ltx_p">Modelica also contains a few built-in operators which are not standard
arithmetic, relational, or logical operators. These are described below,
including time, which is a built-in variable, not an operator.</p>
</div>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.1 </span>String Concatenation</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p class="ltx_p">Concatenation of strings (see the Modelica grammar) is denoted by the +
operator in Modelica [<em class="ltx_emph">e.g.</em> "a" + "b" <em class="ltx_emph">becomes</em> "ab"].</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.2 </span>Array Constructor Operator</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p class="ltx_p">The array constructor operator { … } is described in Section 10.4.</p>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.3 </span>Array Concatenation Operator</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p class="ltx_p">The array concatenation operator [ … ] is described in Section
10.4.2.</p>
</div>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.4 </span>Array Range Operator</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p class="ltx_p">The array range constructor operator : is described in Section 10.4.3.</p>
</div>
</section>
<section id="S6.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.5 </span>If-Expressions</h3>

<div id="S6.SS5.p1" class="ltx_para">
<p class="ltx_p">An expression</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aWYgZXhwcmVzc2lvbjEgdGhlbiBleHByZXNzaW9uMiBlbHNlIGV4cHJlc3Npb24z%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">expression1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">expression2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">expression3</span>
</div>
</div>
</div>
<div id="S6.SS5.p2" class="ltx_para">
<p class="ltx_p">is one example of if-expression. First expression1, which must be
boolean expression, is evaluated. If expression1 is true expression2 is
evaluated and is the value of the if-expression, else expression3 is
evaluated and is the value of the if-expression. The two expressions,
expression2 and expression3, must be type compatible expressions
(Section 6.6) giving the type of the if-expression. If-expressions with
elseif are defined by replacing elseif by else if. [<em class="ltx_emph">Note:</em>
elseif <em class="ltx_emph">has been added for symmetry with if-clauses.</em>] For
short-circuit evaluation see Section <a href="#S3" title="3.3 Evaluation Order ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>.</p>
</div>
<div id="S6.SS5.p3" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example</em>:
</p>
</div>
<div id="S6.SS5.p4" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SW50ZWdlciBpOwpJbnRlZ2VyIHNpZ25fb2ZfaTE9aWYgaTwwIHRoZW4gLTEgZWxzZWlmIGk9PTAg%0AdGhlbiAwIGVsc2UgMTsKSW50ZWdlciBzaWduX29mX2kyPWlmIGk8MCB0aGVuIC0xIGVsc2UgaWYg%0AaT09MCB0aGVuIDAgZWxzZSAxOw==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">sign_of_i1</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text" style="font-size:80%;">&lt;0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">-1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">elseif</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text" style="font-size:80%;">==0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">sign_of_i2</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text" style="font-size:80%;">&lt;0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">-1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text" style="font-size:80%;">==0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1;</span>
</div>
</div>
</div>
</section>
<section id="S6.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.6 </span>Member Access Operator</h3>

<div id="S6.SS6.p1" class="ltx_para">
<p class="ltx_p">It is possible to access members of a class instance using dot notation,
i.e., the . operator.</p>
</div>
<div id="S6.SS6.p2" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example:</em> R1.R <em class="ltx_emph">for accessing the resistance component</em> R
<em class="ltx_emph">of resistor</em> R1<em class="ltx_emph">. Another use of dot notation: local classes
which are members of a class can of course also be accessed using dot
notation on the name of the class, not on instances of the class.</em>]</p>
</div>
</section>
<section id="S6.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.6.7 </span>Built-in Variable time</h3>

<div id="S6.SS7.p1" class="ltx_para">
<p class="ltx_p">All declared variables are functions of the independent variable time.
The variable time is a built-in variable available in all models and
blocks, which is treated as an input variable. It is implicitly defined
as:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aW5wdXQgUmVhbCB0aW1lIChmaW5hbCBxdWFudGl0eSA9ICJUaW1lIiwKICAgICAgICAgICAgICAg%0AICBmaW5hbCB1bml0ICAgICA9ICJzIik7%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">time</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">final</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">quantity</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Time"</span><span class="ltx_text" style="font-size:80%;">,</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">                 </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">final</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">unit</span><span class="ltx_text ltx_lst_space" style="font-size:80%;">     </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"s"</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
</div>
</div>
<div id="S6.SS7.p2" class="ltx_para">
<p class="ltx_p">The value of the start attribute of time is set to the time instant at
which the simulation is started.</p>
</div>
<div id="S6.SS7.p3" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example</em>:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZW5jYXBzdWxhdGVkIG1vZGVsIFNpbmVTb3VyY2UKICBpbXBvcnQgTW9kZWxpY2EuTWF0aC5zaW47%0ACiAgY29ubmVjdG9yIE91dFBvcnQ9b3V0cHV0IFJlYWw7CiAgT3V0UG9ydCB5PXNpbih0aW1lKTsg%0ALy8gVXNlcyB0aGUgYnVpbHQtaW4gdmFyaWFibGUgdGltZS4KZW5kIFNpbmVTb3VyY2U7%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">encapsulated</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SineSource</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">import</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Modelica.Math.sin</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">connector</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">OutPort</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">output</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">OutPort</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">sin</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">time</span><span class="ltx_text" style="font-size:80%;">);</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Uses<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>built-in<span class="ltx_text ltx_lst_space"> </span>variable<span class="ltx_text ltx_lst_space"> </span>time.</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SineSource</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.7 </span>Built-in Intrinsic Operators with Function Syntax</h2>

<div id="S7.p1" class="ltx_para">
<p class="ltx_p"><a name="built-in-intrinsic-operators-with-function-syntax" id="built-in-intrinsic-operators-with-function-syntax" class="ltx_anchor"></a></p>
</div>
<div id="S7.p2" class="ltx_para">
<p class="ltx_p">Certain built-in operators of Modelica have the same syntax as a
function call. However, they do not behave as a mathematical function,
because the result depends not only on the input arguments but also on
the status of the simulation.</p>
</div>
<div id="S7.p3" class="ltx_para">
<p class="ltx_p">There are also built-in functions that depend only on the input
argument, but also may trigger events in addition to returning a value.
Intrinsic means that they are defined at the Modelica language level,
not in the Modelica library. The following built-in intrinsic
operators/functions are available:</p>
</div>
<div id="S7.p4" class="ltx_para">
<ul id="I2" class="ltx_itemize">
<li id="I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I2.i1.p1" class="ltx_para">
<p class="ltx_p">Mathematical functions and conversion functions, see Section <a href="#S7.SS1" title="3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.1</span></a>.
below.</p>
</div>
</li>
</ul>
</div>
<div id="S7.p5" class="ltx_para">
<ul id="I3" class="ltx_itemize">
<li id="I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I3.i1.p1" class="ltx_para">
<p class="ltx_p">Derivative and special purpose operators with function syntax, see
Section <a href="#S7.SS2" title="3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a> below.</p>
</div>
</li>
<li id="I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I3.i2.p1" class="ltx_para">
<p class="ltx_p">Event-related operators with function syntax, see Section <a href="#S7.SS3" title="3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.3</span></a>
below.</p>
</div>
</li>
<li id="I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I3.i3.p1" class="ltx_para">
<p class="ltx_p">Array operators/functions, see Section 10.1.1.</p>
</div>
</li>
</ul>
</div>
<div id="S7.p6" class="ltx_para">
<p class="ltx_p">With exception of built-in operator String(..), all operators in this
section can only be called with positional arguments.</p>
</div>
<section id="S7.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.7.1 </span>Numeric Functions and Conversion Functions</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p class="ltx_p"><a name="numeric-functions-and-conversion-functions" id="numeric-functions-and-conversion-functions" class="ltx_anchor"></a>
</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<p class="ltx_p">The following mathematical operators and functions, also including some
conversion functions, are predefined in Modelica, and are vectorizable
according to Section 12.4.6, except for the String function. The
functions which do not trigger events are described in the table below,
whereas the event-triggering mathematical functions are described in
Section <a href="#S7.SS1.SSS1" title="Event Triggering Mathematical Functions ‣ 3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.1</span></a>.</p>
</div>
<figure id="T5" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;">abs(v)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Is expanded into ‘‘noEvent(<span class="ltx_text ltx_font_bold">if</span> v &gt;= 0
<span class="ltx_text ltx_font_bold">then</span> v <span class="ltx_text ltx_font_bold">else</span> –v)’’. Argument v needs to be an Integer
or Real expression.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;">sign(v)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Is expanded into ‘‘noEvent(<span class="ltx_text ltx_font_bold">if</span> v&gt;0
<span class="ltx_text ltx_font_bold">then</span> 1 <span class="ltx_text ltx_font_bold">else if</span> v&lt;0 <span class="ltx_text ltx_font_bold">then</span> –1
<span class="ltx_text ltx_font_bold">else</span> 0)’’. Argument v needs to be an Integer or Real
expression.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;">sqrt(v)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the square root of v if v&gt;=0, otherwise
an error occurs. Argument v needs to be an Integer or Real
expression.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;">Integer(e)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the ordinal number of the expression e of
enumeration type that evaluates to the enumeration value E.enumvalue,
where Integer(E.e1)=1, Integer(E.en)= n, for an enumeration type
E=enumeration(e1, …, en). See also Section <a href="Ch4.html#S8.SS5.SSS1" title="Attributes of Enumeration Types ‣ 4.8.5 Enumeration Types ‣ 4.8 Predefined Types ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.8.5</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;">String(b,&lt;options&gt;)String(i,&lt;options&gt;)String(r,   significantDigits=d,   options)String(r, format=s)String(e, &lt;options&gt;)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:227.6pt;">Convert a scalar non-String expression to a String representation. The
first argument may be a Boolean b, an Integer i, a Real r or an
Enumeration e (Section <a href="Ch4.html#S8.SS5.SSS1" title="Attributes of Enumeration Types ‣ 4.8.5 Enumeration Types ‣ 4.8 Predefined Types ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.8.5</span></a>). The other arguments must use named arguments. The optional
&lt;options&gt; are:
Integer minimumLength=0: minimum length of the resulting string. If
necessary, the blank character is used to fill up unused space.
Boolean leftJustified = true: if true, the converted result is left
justified in the string; if false it is right justified in the string.
For Real expressions the output shall be according to the Modelica
grammar. Integer significantDigits=6: defines the number of significant
digits in the result string. [<em class="ltx_emph">Examples: "</em>12.3456<em class="ltx_emph">",
"</em>0.0123456<em class="ltx_emph">", "</em>12345600<em class="ltx_emph">", "</em>1.23456E-10<em class="ltx_emph">"</em>]<em class="ltx_emph">.</em>
The format string corresponding to options is:
for Reals: (if leftJustified then "-" else
"")+String(minimumLength)+"."+ String(signficantDigits)+"g",
for Integers: (if leftJustified then "-" else
"")+String(minimumLength)+"d".
Format string: According to ANSI-C the format string specifies one
conversion specifier (excluding the leading %), may not contain length
modifiers, and may not use "*" for width and/or precision. For all
numeric values the format specifiers f, e, E, g, G are allowed. For
integral values it is also allowed to use the d, i, o, x, X, u, and
c-format specifiers (for non-integral values a tool may round, truncate
or use a different format if the integer conversion characters are
used).
The x,X-formats (hexa-decimal) and c (character) for Integers does not
lead to input that agrees with the Modelica-grammar.</td>
</tr>
</table>
</figure>
<section id="S7.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">Event Triggering Mathematical Functions</h4>

<div id="S7.SS1.SSS1.p1" class="ltx_para">
<p class="ltx_p"><a name="event-triggering-mathematical-functions" id="event-triggering-mathematical-functions" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS1.SSS1.p2" class="ltx_para">
<p class="ltx_p">The built-in operators in this section trigger state events if used
outside of a when-clause and outside of a clocked discrete-time
partition (see Section 16.8.1). [ <em class="ltx_emph">If this is not desired, the</em>
noEvent <em class="ltx_emph">function can be applied to them. E.g.</em> noEvent(integer(v))
]</p>
</div>
<figure id="T6" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">div(x,y)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the algebraic quotient x/y with any fractional part
discarded (also known as truncation toward zero). [<em class="ltx_emph">Note: this is
defined for / in C99; in C89 the result for negative numbers is
implementation-defined, so the standard function div() must be
used.</em>]. Result and arguments shall have type Real or Integer. If
either of the arguments is Real the result is Real otherwise
Integer.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">mod(x,y)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the integer modulus of x/y, i.e.
mod(x,y)=x-floor(x/y)*y. Result and arguments shall have type Real or
Integer. If either of the arguments is Real the result is Real otherwise
Integer. [<em class="ltx_emph">Note, outside of a when-clause state events are
triggered when the return value changes discontinuously. Examples</em>
mod(3,1.4)=0.2<em class="ltx_emph">,</em> mod(-3,1.4)=1.2<em class="ltx_emph">,</em>
mod(3,-1.4)=-1.2]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">rem(x,y)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the integer remainder of x/y, such that div(x,y)*y +
rem(x, y) = x. Result and arguments shall have type Real or Integer. If
either of the arguments is Real the result is Real otherwise Integer.
[<em class="ltx_emph">Note, outside of a when-clause state events are triggered when
the return value changes discontinuously. Examples</em>
rem(3,1.4)=0.2<em class="ltx_emph">,</em> rem(-3,1.4)=-0.2]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">ceil(x)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the smallest integer not less than x. Result and
argument shall have type Real. [<em class="ltx_emph">Note, outside of a when-clause
state events are triggered when the return value changes
discontinuously.</em>]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">floor(x)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the largest integer not greater than x. Result and
argument shall have type Real. [<em class="ltx_emph">Note, outside of a when-clause
state events are triggered when the return value changes
discontinuously.</em>].</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">integer(x)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the largest integer not greater
than x. The argument shall have type Real. The result has type
Integer.[<em class="ltx_emph">Note, outside of a when-clause state
events are triggered when the return value changes
discontinuously.</em>].</td>
</tr>
</table>
</figure>
</section>
<section id="S7.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">Built-in Mathematical Functions and External Built-in Functions</h4>

<div id="S7.SS1.SSS2.p1" class="ltx_para">
<p class="ltx_p"><a name="built-in-mathematical-functions-and-external-built-in-functions" id="built-in-mathematical-functions-and-external-built-in-functions" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS1.SSS2.p2" class="ltx_para">
<p class="ltx_p">The following built-in mathematical functions are available in Modelica
and can be called directly without any package prefix added to the
function name. They are also available as external built-in functions in
the Modelica.Math library.</p>
</div>
<figure id="T7" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">sin(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">sine</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">cos(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">cosine</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">tan(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">tangent (x shall not be: …, <math id="T7.m1" class="ltx_Math" alttext="-\pi/2,\pi/2,3\pi/2" display="inline"><mrow><mrow><mo>-</mo><mrow><mi>π</mi><mo>/</mo><mn>2</mn></mrow></mrow><mo>,</mo><mrow><mi>π</mi><mo>/</mo><mn>2</mn></mrow><mo>,</mo><mrow><mrow><mn>3</mn><mo>⁢</mo><mi>π</mi></mrow><mo>/</mo><mn>2</mn></mrow></mrow></math>,
…)</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">asin(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">inverse sine (<math id="T7.m2" class="ltx_Math" alttext="-1\leq x\leq 1" display="inline"><mrow><mrow><mo>-</mo><mn>1</mn></mrow><mo>≤</mo><mi>x</mi><mo>≤</mo><mn>1</mn></mrow></math>)</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">acos(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">inverse cosine (<math id="T7.m3" class="ltx_Math" alttext="-1\leq x\leq 1" display="inline"><mrow><mrow><mo>-</mo><mn>1</mn></mrow><mo>≤</mo><mi>x</mi><mo>≤</mo><mn>1</mn></mrow></math>)</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">atan(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">inverse tangent</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">atan2(<em class="ltx_emph">y</em>, <em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">the atan2(<em class="ltx_emph">y</em>,
<em class="ltx_emph">x</em>) function calculates the principal value of the arc tangent of
<em class="ltx_emph">y/x</em>, using the signs of the two arguments to
determine the quadrant of the result</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">sinh(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">hyperbolic sine</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">cosh(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">hyperbolic cosine</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">tanh(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">hyperbolic tangent</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">exp(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">exponential, base <em class="ltx_emph">e</em>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">log(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">natural (base <em class="ltx_emph">e</em>) logarithm (<em class="ltx_emph">x</em>
&gt; 0)</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">log10(<em class="ltx_emph">x</em>)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:227.6pt;">base 10 logarithm (<em class="ltx_emph">x</em> &gt;0)</td>
</tr>
</table>
</figure>
</section>
</section>
<section id="S7.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.7.2 </span>Derivative and Special Purpose Operators with Function Syntax</h3>

<div id="S7.SS2.p1" class="ltx_para">
<p class="ltx_p"><a name="derivative-and-special-purpose-operators-with-function-syntax" id="derivative-and-special-purpose-operators-with-function-syntax" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.p2" class="ltx_para">
<p class="ltx_p">The following derivative operator and special purpose operators with
function syntax are predefined:</p>
</div>
<figure id="T8" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">der(expr)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">The time derivative of expr. If the expression expr is a
scalar it needs to be a subtype of Real. The expression and all its
subexpressions must be differentiable. If expr is an array, the operator
is applied to all elements of the array. For non-scalar arguments the
function is vectorized according to Section 10.6.12. [<em class="ltx_emph">For Real
parameters and constants the result is a zero scalar or array of the
same size as the variable.</em>]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">delay(expr,   delayTime,   delayMax) delay(expr,   delayTime)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns: expr(time–delayTime) for  
time&gt;time.start + delayTime and expr(time.start) for time
&lt;= time.start + delayTime. The arguments, i.e., expr,
delayTime and delayMax, need to be subtypes of Real. DelayMax needs to
be additionally a parameter expression. The following relation shall
hold: 0 &lt;= delayTime &lt;= delayMax, otherwise an error
occurs. If delayMax is not supplied in the argument list, delayTime need
to be a parameter expression. See also Section <a href="#S7.SS2.SSS1" title="delay ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a>. For non-scalar
arguments the function is vectorized according to Section 10.6.12.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">cardinality(c)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">[<em class="ltx_emph">This is a deprecated operator. It should no
longer be used, since it will be removed in one of the next Modelica
releases.</em>]
Returns the number of (inside and outside) occurrences of connector
instance c in a connect-equation as an Integer number. See also Section <a href="#S7.SS2.SSS3" title="cardinality (deprecated) ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">homotopy(  actual=actual,   simp=simplified)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">The scalar expressions ‘‘actual’’ and ‘‘simplified’’ are subtypes of Real. A Modelica translator should map
this operator into either of the two forms:
Returns ‘‘actual’’ <em class="ltx_emph">[a trivial implementation]</em>.
In order to solve algebraic systems of equations,
the operator might during the solution process return a combination of
the two arguments, ending at actual, [e.g.,
actual*lambda + simplified*(1-lambda),
where lambda is a homotopy parameter going from 0 to
1]. The solution must fulfill the equations for
homotopy returning ‘‘actual’’.
See also Section <a href="#S7.SS2.SSS4" title="homotopy ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a>. For non-scalar arguments the function is
vectorized according to Section 12.4.6.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">semiLinear(x, positiveSlope, negativeSlope)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns:
if x&gt;=0 then positiveSlope*x else negativeSlope*x.
The result is of type Real. See Section <a href="#S7.SS2.SSS5" title="semiLinear ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a> [<em class="ltx_emph">especially in
the case when x = 0</em>]. For non-scalar arguments the function is
vectorized according to Section 10.6.12.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">inStream(v)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">The operator inStream(v) is only allowed on stream
variables v defined in stream connectors, and is the value of the stream
variable v close to the connection point assuming that the flow is from
the connection point into the component. This value is computed from the
stream connection equations of the flow variables and of the stream
variables. The operator is vectorizable. For more details see Section 15.2.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">actualStream(v)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">The actualStream(v) operator returns the actual value
of the stream variable v for any flow direction. The operator is
vectorizable. For more details, see Section 15.3.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">spatialDistribution( in0, in1, x, pv,
iP, iV)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">The spatialDistribution(…) operator allows
approximation of variable-speed transport of properties, see Section <a href="#S7.SS2.SSS2" title="spatialDistribution ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">getInstanceName()</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:227.6pt;">Returns a string with the name of the model/block
that is simulated, appended with the fully qualified name of the
instance in which this function is called, see Section <a href="#S7.SS2.SSS6" title="getInstanceName ‣ 3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a>.</td>
</tr>
</table>
</figure>
<div id="S7.SS2.p3" class="ltx_para">
<p class="ltx_p">A few of these operators are described in more detail in the following.</p>
</div>
<section id="S7.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">delay</h4>

<div id="S7.SS2.SSS1.p1" class="ltx_para">
<p class="ltx_p"><a name="delay" id="delay" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.SSS1.p2" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">The</em> delay() <em class="ltx_emph">operator allows a numerical sound
implementation by interpolating in the (internal) integrator
polynomials, as well as a more simple realization by interpolating
linearly in a buffer containing past values of expression expr. Without
further information, the complete time history of the delayed signals
needs to be stored, because the delay time may change during simulation.
To avoid excessive storage requirements and to enhance efficiency, the
maximum allowed delay time has to be given via</em> delayMax<em class="ltx_emph">. </em></p>
</div>
<div id="S7.SS2.SSS1.p3" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">This gives an upper bound on the values of the delayed signals
which have to be stored. For real-time simulation where fixed step size
integrators are used, this information is sufficient to allocate the
necessary storage for the internal buffer before the simulation starts.
For variable step size integrators, the buffer size is dynamic during
integration. In principle, a</em> delay <em class="ltx_emph">operator could break algebraic
loops. For simplicity, this is not supported because the minimum delay
time has to be give as additional argument to be fixed at compile time.
Furthermore, the maximum step size of the integrator is limited by this
minimum delay time in order to avoid extrapolation in the delay
buffer</em>.]</p>
</div>
</section>
<section id="S7.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">spatialDistribution</h4>

<div id="S7.SS2.SSS2.p1" class="ltx_para">
<p class="ltx_p"><a name="spatialdistribution" id="spatialdistribution" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.SSS2.p2" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Many applications involve the modelling of variable-speed
transport of properties. One option to model this infinite-dimensional
system is to approximate it by an ODE, but this requires a large number
of state variables and might introduce either numerical diffusion or
numerical oscillations. Another option is to use a built-in operator
that keeps track of the spatial distribution of z(y, t), by suitable
sampling, interpolation, and shifting of the stored distribution. In
this case, the internal state of the operator is hidden from the ODE
solver.</em>]</p>
</div>
<div id="S7.SS2.SSS2.p3" class="ltx_para">
<p class="ltx_p">The spatialDistribution() operator allows to approximate efficiently the
solution of the infinite-dimensional problem</p>
<table id="Ch4.S8.EGx1" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tr id="Ex1" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex1.m1" class="ltx_Math" alttext="\displaystyle\partial z(y,t)/\partial t+v(t)\partial z(y,t)/\partial y" display="inline"><mrow><mrow><mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>z</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>/</mo><mrow><mo>∂</mo><mo>⁡</mo><mi>t</mi></mrow></mrow><mo>+</mo><mrow><mrow><mi>v</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo>∂</mo><mo>⁡</mo><mi>z</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>/</mo><mrow><mo>∂</mo><mo>⁡</mo><mi>y</mi></mrow></mrow></mrow></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ex1.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex1.m3" class="ltx_Math" alttext="\displaystyle 0.0" display="inline"><mn>0.0</mn></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr id="Ex2" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex2.m1" class="ltx_Math" alttext="\displaystyle z(0.0,t)=\mathrm{in}_{0}(t)\mathrm{if}v\geq 0" display="inline"><mrow><mrow><mi>z</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>0.0</mn><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>in</mi><mn>0</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi>if</mi><mo>⁢</mo><mi>v</mi></mrow><mo>≥</mo><mn>0</mn></mrow></math></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr id="Ex3" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex3.m1" class="ltx_Math" alttext="\displaystyle z(1.0,t)=\mathrm{in}_{1}(t)\mathrm{if}v&lt;0" display="inline"><mrow><mrow><mi>z</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mn>1.0</mn><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>in</mi><mn>1</mn></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi>if</mi><mo>⁢</mo><mi>v</mi></mrow><mo>&lt;</mo><mn>0</mn></mrow></math></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
<p class="ltx_p">where <math id="S7.SS2.SSS2.p3.m1" class="ltx_Math" alttext="z(y,t)" display="inline"><mrow><mi>z</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> is the transported quantity, <em class="ltx_emph">y</em> is the
normalized spatial coordinate (<math id="S7.SS2.SSS2.p3.m2" class="ltx_Math" alttext="0.0\leq y\leq 1.0" display="inline"><mrow><mn>0.0</mn><mo>≤</mo><mi>y</mi><mo>≤</mo><mn>1.0</mn></mrow></math>), <math id="S7.SS2.SSS2.p3.m3" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math> is the
time, <math id="S7.SS2.SSS2.p3.m4" class="ltx_Math" alttext="v(t)=\mathrm{der}(x)" display="inline"><mrow><mrow><mi>v</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>der</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math> is the normalized
transport velocity and the boundary conditions are set at either
<math id="S7.SS2.SSS2.p3.m5" class="ltx_Math" alttext="y=0.0" display="inline"><mrow><mi>y</mi><mo>=</mo><mn>0.0</mn></mrow></math> or <math id="S7.SS2.SSS2.p3.m6" class="ltx_Math" alttext="y=1.0" display="inline"><mrow><mi>y</mi><mo>=</mo><mn>1.0</mn></mrow></math>, depending on the sign of the velocity.
The calling syntax is:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,KG91dDAsIG91dDEpID0gc3BhdGlhbERpc3RyaWJ1dGlvbihpbjAsIGluMSwgeCwgcG9zaXRpdmVW%0AZWxvY2l0eQppbml0aWFsUG9pbnRzID0gezAuMCwgMS4wfSwKaW5pdGlhbFZhbHVlcyA9IHswLjAs%0AIDAuMH0pOw==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out1</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">spatialDistribution</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in1</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">positiveVelocity</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialPoints</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">},</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialValues</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">});</span>
</div>
</div>
<p class="ltx_p">where in0, in1, out0, out1, x, v are all subtypes of Real,
positiveVelocity is a Boolean, initialPoints and initialValues are
arrays of subtypes of Real of equal size, containing the y coordinates
and the <em class="ltx_emph">z</em> values of a finite set of points describing the initial
distribution of <em class="ltx_emph">z</em>(<em class="ltx_emph">y, t0</em>). The out0 and out1 are given by
the solutions at <em class="ltx_emph">z(0.0, t)</em> and <em class="ltx_emph">z(1.0, t)</em>; and in0 and in1
are the boundary conditions at <em class="ltx_emph">z(0.0, t)</em> and <em class="ltx_emph">z(1.0, t)</em> (at
each point in time only one of in0 and in1 is used). Elements in the
initialPoints array must be sorted in non-descending order. The operator
can not be vectorized according to the vectorization rules described in
section 12.4.6. The operator can be vectorized only with respect to the
arguments in0 and in1 (which must have the same size), returning
vectorized outputs out0 and out1 of the same size; the arguments
initialPoints and initialValues are vectorized accordingly.</p>
</div>
<div id="S7.SS2.SSS2.p4" class="ltx_para">
<p class="ltx_p">The solution, z(..), can be described in terms of characteristics:
<math id="S7.SS2.SSS2.p4.m1" class="ltx_Math" alttext="z(y+\int_{t}^{t+\beta}v(\alpha)d\alpha,t+\beta)=z(y,t)," display="inline"><mrow><mrow><mrow><mi>z</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>y</mi><mo>+</mo><mrow><msubsup><mo largeop="true" symmetric="true">∫</mo><mi>t</mi><mrow><mi>t</mi><mo>+</mo><mi>β</mi></mrow></msubsup><mrow><mi>v</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo>𝑑</mo><mi>α</mi></mrow></mrow></mrow></mrow><mo>,</mo><mrow><mi>t</mi><mo>+</mo><mi>β</mi></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>z</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>y</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math> for all <math id="S7.SS2.SSS2.p4.m2" class="ltx_Math" alttext="\beta" display="inline"><mi>β</mi></math>, as long as staying inside the
domain.</p>
</div>
<div id="S7.SS2.SSS2.p5" class="ltx_para">
<p class="ltx_p">This allows to directly compute the solution based on interpolating the
boundary conditions.</p>
</div>
<div id="S7.SS2.SSS2.p6" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_bold">spatialDistribution</span> operator can be described in terms of
the pseudo-code given as a block:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgc3BhdGlhbERpc3RyaWJ1dGlvbgogIGlucHV0IFJlYWwgaW4wOwogIGlucHV0IFJlYWwg%0AaW4xOwogIGlucHV0IFJlYWwgeDsKICBpbnB1dCBCb29sZWFuIHBvc2l0aXZlVmVsb2NpdHk7CiAg%0AcGFyYW1ldGVyIFJlYWwgaW5pdGlhbFBvaW50cyhlYWNoIG1pbj0wLCBlYWNoIG1heD0xKVs6XSA9%0AIHswLjAsIDEuMH07CiAgcGFyYW1ldGVyIFJlYWwgaW5pdGlhbFZhbHVlc1s6XSA9IHswLjAsIDAu%0AMH07CiAgb3V0cHV0IFJlYWwgb3V0MDsKICBvdXRwdXQgUmVhbCBvdXQxOwpwcm90ZWN0ZWQKICBS%0AZWFsIHBvaW50c1s6XTsKICBSZWFsIHZhbHVlc1s6XTsKICBSZWFsIHgwOwogIEludGVnZXIgbTsK%0AYWxnb3JpdGhtCiAgaWYgcG9zaXRpdmVWZWxvY2l0eSB0aGVuCiAgICBvdXQxOj1pbnRlcnBvbGF0%0AZShwb2ludHMsIHZhbHVlcywgMS0oeC14MCkpOwogICAgb3V0MDo9dmFsdWVzWzFdOyAvLyBzaW1p%0AbGFyIHRvIGluMCBidXQgYXZvaWRpbmcgYWxnZWJyYWljIGxvb3AKICBlbHNlCiAgICBvdXQwOj1p%0AbnRlcnBvbGF0ZShwb2ludHMsIHZhbHVlcywgKHgteDApKTsKICAgIG91dDE6PXZhbHVlc1tlbmRd%0AOyAvLyBzaW1pbGFyIHRvIGluMSBidXQgYXZvaWRpbmcgYWxnZWJyYWljIGxvb3AKICBlbmQgaWY7%0ACiAgd2hlbiA8YWNjZXB0ZWRTdGVwPiB0aGVuCiAgICBpZiB4PngwIHRoZW4KICAgICAgbTo9c2l6%0AZShwb2ludHMsMSk7CiAgICAgIHdoaWxlIChpZiBtPjAgdGhlbiBwb2ludHNbbV0rKHgteDApPj0x%0AIGVsc2UgZmFsc2UpIHRoZW4KICAgICAgICBtOj1tLTE7CiAgICAgIGVuZCB3aGlsZTsKICAgICAg%0AdmFsdWVzOj1jYXQoMSwge2luMH0sIHZhbHVlc1sxOm1dLCB7aW50ZXJwb2xhdGUocG9pbnRzLCB2%0AYWx1ZXMsMS0oeC14MCkpfSApOwogICAgICBwb2ludHM6PWNhdCgxLCB7MH0sIHBvaW50c1sxOm1d%0AIC4rICh4MS14MCksIHsxfSApOwogICAgZWxzZWlmIHg8eDAgdGhlbgogICAgICBtOj0xOwogICAg%0AICB3aGlsZSAoaWYgbTxzaXplKHBvaW50cywxKSB0aGVuIHBvaW50c1ttXSsoeC14MCk8PTAgZWxz%0AZSBmYWxzZSkgdGhlbgogICAgICAgIG06PW0rMTsKICAgICAgZW5kIHdoaWxlOwogICAgICB2YWx1%0AZXM6PWNhdCgxLCB7aW50ZXJwb2xhdGUocG9pbnRzLCB2YWx1ZXMsIDAtKHgteDApKX0sdmFsdWVz%0AW206ZW5kXSx7aW4xfSk7CiAgICAgIHBvaW50czo9Y2F0KDEsIHswfSwgcG9pbnRzW206ZW5kXSAu%0AKyAoeDEteDApLCB7MX0pOwogICAgZW5kIGlmOwogICAgeDA6PXg7CiAgZW5kIHdoZW47CmluaXRp%0AYWwgYWxnb3JpdGhtCiAgeDA6PXg7CiAgcG9pbnRzOj1pbml0aWFsUG9pbnRzOwogIHZhbHVlczo9%0AaW5pdGlhbFZhbHVlczsKZW5kIHNwYXRpYWxEaXN0cmlidXRpb247%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">block</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">spatialDistribution</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in0</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in1</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">positiveVelocity</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialPoints</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">each</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">min</span><span class="ltx_text" style="font-size:80%;">=0,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">each</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">max</span><span class="ltx_text" style="font-size:80%;">=1)[:]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">};</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialValues</span><span class="ltx_text" style="font-size:80%;">[:]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">};</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">output</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out0</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">output</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out1</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">protected</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">[:];</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">[:];</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">algorithm</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">positiveVelocity</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out1</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">interpolate</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1-(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">));</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out0</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">[1];</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>similar<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>in0<span class="ltx_text ltx_lst_space"> </span>but<span class="ltx_text ltx_lst_space"> </span>avoiding<span class="ltx_text ltx_lst_space"> </span>algebraic<span class="ltx_text ltx_lst_space"> </span>loop</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out0</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">interpolate</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">));</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out1</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text" style="font-size:80%;">];</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>similar<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>in1<span class="ltx_text ltx_lst_space"> </span>but<span class="ltx_text ltx_lst_space"> </span>avoiding<span class="ltx_text ltx_lst_space"> </span>algebraic<span class="ltx_text ltx_lst_space"> </span>loop</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">when</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">acceptedStep</span><span class="ltx_text" style="font-size:80%;">&gt;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">&gt;</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">size</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">,1);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">while</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">&gt;0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">]+(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">)&gt;=1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">false</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">-1;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">while</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">cat</span><span class="ltx_text" style="font-size:80%;">(1,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in0</span><span class="ltx_text" style="font-size:80%;">},</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">[1:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">],</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">interpolate</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">,1-(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">))}</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">cat</span><span class="ltx_text" style="font-size:80%;">(1,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{0},</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">[1:</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.</span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x1</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">),</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{1}</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">elseif</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">:=1;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">while</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">size</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">,1)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">]+(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">)&lt;=0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">false</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">        </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">+1;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">while</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">cat</span><span class="ltx_text" style="font-size:80%;">(1,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">interpolate</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0-(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">))},</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text" style="font-size:80%;">],{</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in1</span><span class="ltx_text" style="font-size:80%;">});</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">cat</span><span class="ltx_text" style="font-size:80%;">(1,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{0},</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m</span><span class="ltx_text" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.</span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x1</span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">),</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">{1});</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">when</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">initial</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">algorithm</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">points</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialPoints</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">values</span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialValues</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">spatialDistribution</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
</div>
<div id="S7.SS2.SSS2.p7" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">The infinite-dimensional problem stated above can then be
formulated in the following way:</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZGVyKHgpID0gdjsKKG91dDAsIG91dDEpID0gc3BhdGlhbERpc3RyaWJ1dGlvbihpbjAsIGluMSwg%0AeCx2ID49MCwgaW5pdGlhbFBvaW50cywgaW5pdGlhbFZhbHVlcyk7%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">der</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out1</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">spatialDistribution</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in1</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">&gt;=0,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialPoints</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialValues</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph">Events are generated at the exact instants when the velocity
changes sign – if this is not needed, <span class="ltx_text ltx_font_bold">noEvent</span>() can be used to
suppress event generation.</em></p>
</div>
<div id="S7.SS2.SSS2.p8" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">If the velocity is known to be always positive, then out0 can be
omitted, e.g.:</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZGVyKHgpID0gdjsKKCxvdXQxKSA9IHNwYXRpYWxEaXN0cmlidXRpb24oaW4wLCAwLCB4LCB0cnVl%0ALCBpbml0aWFsUG9pbnRzLCBpbml0aWFsVmFsdWVzKTs=%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">der</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text" style="font-size:80%;">(,</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">out1</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">spatialDistribution</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">in0</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">true</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialPoints</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">initialValues</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
</div>
</div>
<div id="S7.SS2.SSS2.p9" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Technically relevant use cases for the use of the</em>
spatialDistribution<em class="ltx_emph">() operator are modeling of electrical
transmission lines, pipelines and pipeline networks for gas, water and
district heating, sprinkler systems, impulse propagation in elongated
bodies, conveyor belts, and hydraulic systems. Vectorization is needed
for pipelines where more than one quantity is transported with velocity
v in the example above.</em>]</p>
</div>
</section>
<section id="S7.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">cardinality (deprecated)</h4>

<div id="S7.SS2.SSS3.p1" class="ltx_para">
<p class="ltx_p"><a name="cardinality-deprecated" id="cardinality-deprecated" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.SSS3.p2" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">The cardinality operator is deprecated for the following
reasons and will be removed in a future release:</em></p>
</div>
<div id="S7.SS2.SSS3.p3" class="ltx_para">
<ul id="I4" class="ltx_itemize">
<li id="I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I4.i1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Reflective operator may make early type checking more difficult.</em></p>
</div>
</li>
<li id="I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I4.i2.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Almost always abused in strange ways</em></p>
</div>
</li>
<li id="I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I4.i3.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Not used for Bond graphs even though it was originally introduced for that purpose.</em></p>
</div>
</li>
</ul>
<p class="ltx_p">]</p>
</div>
<div id="S7.SS2.SSS3.p4" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">The</em> cardinality() <em class="ltx_emph">operator allows the definition of
connection dependent equations in a model, for example</em>:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y29ubmVjdG9yIFBpbgogIFJlYWwgdjsKICBmbG93IFJlYWwgaTsKZW5kIFBpbjsKCm1vZGVsIFJl%0Ac2lzdG9yCiAgUGluIHAsIG47CmVxdWF0aW9uCiAgYXNzZXJ0KGNhcmRpbmFsaXR5KHApID4gMCBh%0AbmQgY2FyZGluYWxpdHkobik+MCwKICAgICJDb25uZWN0b3JzIHAgYW5kIG4gb2YgUmVzaXN0b3Ig%0AbXVzdCBiZSBjb25uZWN0ZWQiKTt9CiAgLy8gRXF1YXRpb25zIG9mIHJlc2lzdG9yCiAgLi4uCmVu%0AZCBSZXNpc3Rvcjs=%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">connector</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Pin</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">flow</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Pin</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Resistor</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Pin</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">n</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">assert</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">cardinality</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">&gt;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">and</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">cardinality</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">n</span><span class="ltx_text" style="font-size:80%;">)&gt;0,</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Connectors<span class="ltx_text ltx_lst_space"> </span>p<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>n<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>Resistor<span class="ltx_text ltx_lst_space"> </span>must<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>connected"</span><span class="ltx_text" style="font-size:80%;">);}</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Equations<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>resistor</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Resistor</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S7.SS2.SSS3.p5" class="ltx_para">
<p class="ltx_p">The cardinality is counted after removing conditional components. and
may not be applied to expandable connectors, elements in expandable
connectors, or to arrays of connectors (but can be applied to the scalar
elements of array of connectors). The cardinality operator should only
be used in the condition of assert and if-statements – that do not
contain connect (and similar operators – see section 8.3.3).</p>
</div>
</section>
<section id="S7.SS2.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">homotopy</h4>

<div id="S7.SS2.SSS4.p1" class="ltx_para">
<p class="ltx_p"><a name="homotopy" id="homotopy" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.SSS4.p2" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">[During the initialization phase of a dynamic simulation
problem, it often happens that large nonlinear systems of equations must
be solved by means of an iterative solver. The convergence of such
solvers critically depends on the choice of initial guesses for the
unknown variables. The process can be made more robust by providing an
alternative, simplified version of the model, such that convergence is
possible even without accurate initial guess values, and then by
continuously transforming the simplified model into the actual model.
This transformation can be formulated using expressions of this kind:</em></p>
</div>
<div id="S7.SS2.SSS4.p3" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">lambda*actual + (1-lambda)*simplified</em></p>
</div>
<div id="S7.SS2.SSS4.p4" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">in the formulation of the system equations, and is usually called
a homotopy transformation. If the simplified expression is chosen
carefully, the solution of the problem changes continuously with lambda,
so by taking small enough steps it is possible to eventually obtain the
solution of the actual problem.</em></p>
</div>
<div id="S7.SS2.SSS4.p5" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">The operator can be called with ordered arguments or preferably
with named arguments for improved readability.</em></p>
</div>
<div id="S7.SS2.SSS4.p6" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">It is recommended to perform (conceptually) one homotopy iteration
over the whole model, and not several homotopy iterations over the
respective non-linear algebraic equation systems. The reason is that the
following structure can be present:</em>
</p>
</div>
<div id="S7.SS2.SSS4.p7" class="ltx_para">
<blockquote class="ltx_quote">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">w</span> = <math id="S7.SS2.SSS4.p7.m1" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math>(<span class="ltx_text ltx_font_bold">x</span>) // has homotopy
operator
<br class="ltx_break">
<span class="ltx_text ltx_font_bold">0</span> = <math id="S7.SS2.SSS4.p7.m2" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math>(der(<span class="ltx_text ltx_font_bold">x</span>), <span class="ltx_text ltx_font_bold">x</span>,
<span class="ltx_text ltx_font_bold">z</span>, <span class="ltx_text ltx_font_bold">w</span>)</p>
</blockquote>
</div>
<div id="S7.SS2.SSS4.p8" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Here, a non-linear equation system</em> <math id="S7.SS2.SSS4.p8.m1" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math>
<em class="ltx_emph">is present. The homotopy operator is, however used on a variable
that is an ‘‘input’’ to the non-linear algebraic equation system, and
modifies the characteristics of the non-linear algebraic equation
system. The only useful way is to perform the homotopy iteration over</em>
<math id="S7.SS2.SSS4.p8.m2" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math> <em class="ltx_emph">and</em> <math id="S7.SS2.SSS4.p8.m3" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math>
<em class="ltx_emph">together.</em></p>
</div>
<div id="S7.SS2.SSS4.p9" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">The suggested approach is ‘‘conceptual’’, because more efficient
implementations are possible, e.g. by determining the smallest iteration
loop, that contains the equations of the first BLT block in which a
homotopy operator is present and all equations up to the last BLT block
that describes a non-linear algebraic equation system.</em></p>
</div>
<div id="S7.SS2.SSS4.p10" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">A trivial implementation of the homotopy operator is obtained by
defining the following function in the global scope:</em></p>
</div>
<div id="S7.SS2.SSS4.p11" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gaG9tb3RvcHkKICBpbnB1dCBSZWFsIGFjdHVhbDsKICBpbnB1dCBSZWFsIHNpbXBs%0AaWZpZWQ7CiAgb3V0cHV0IFJlYWwgeTsKYWxnb3JpdGhtCiAgeSA6PSBhY3R1YWw7CiAgYW5ub3Rh%0AdGlvbihJbmxpbmUgPSB0cnVlKTsKZW5kIGhvbW90b3B5Ow==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">function</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">homotopy</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">actual</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">input</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">simplified</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">output</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">algorithm</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">:=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">actual</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">annotation</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Inline</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">true</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">homotopy</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph">Example 1:</em></p>
</div>
<div id="S7.SS2.SSS4.p12" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">In electrical systems it is often difficult to solve non-linear
algebraic equations if switches are part of the algebraic loop. An
idealized diode model might be implemented in the following way, by
starting with a ‘‘flat’’ diode characteristic and then move with the
homotopy operator to the desired ‘‘steep’’ characteristic:</em></p>
</div>
<div id="S7.SS2.SSS4.p13" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgSWRlYWxEaW9kZQogIC4uLgogIHBhcmFtZXRlciBSZWFsIEdvZmYgPSAxZS01Owpwcm90%0AZWN0ZWQKICBSZWFsIEdvZmZfZmxhdCA9IG1heCgwLjAxLCBHb2ZmKTsKICBSZWFsIEdvZmYyOwpl%0AcXVhdGlvbgogIG9mZiA9IHMgPCAwOwogIEdvZmYyID0gaG9tb3RvcHkoYWN0dWFsPUdvZmYsIHNp%0AbXBsaWZpZWQ9R29mZl9mbGF0KTsKICB1ID0gcyooaWYgb2ZmIHRoZW4gMSBlbHNlIFJvbjIpICsg%0AVmtuZWU7CiAgaSA9IHMqKGlmIG9mZiB0aGVuIEdvZmYyIGVsc2UgMSApICsgR29mZjIqVmtuZWU7%0ACiAgLi4uCmVuZCBJZGVhbERpb2RlOw==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">IdealDiode</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">e</span><span class="ltx_text" style="font-size:80%;">-5;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">protected</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff_flat</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">max</span><span class="ltx_text" style="font-size:80%;">(0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.01</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff2</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">off</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">s</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">homotopy</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">actual</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">simplified</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff_flat</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">u</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">s</span><span class="ltx_text" style="font-size:80%;">*(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">off</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Ron2</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Vknee</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">i</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">s</span><span class="ltx_text" style="font-size:80%;">*(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">off</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Goff2</span><span class="ltx_text" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Vknee</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">IdealDiode</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph">Example 2:</em></p>
</div>
<div id="S7.SS2.SSS4.p14" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">In electrical systems it is often useful that all voltage sources
start with zero voltage and all current sources with zero current, since
steady state initialization with zero sources can be easily obtained. A
typical voltage source would then be defined as:</em></p>
</div>
<div id="S7.SS2.SSS4.p15" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgQ29uc3RhbnRWb2x0YWdlU291cmNlCiAgZXh0ZW5kcyBNb2RlbGljYS5FbGVjdHJpY2Fs%0ALkFuYWxvZy5JbnRlcmZhY2VzLk9uZVBvcnQ7CiAgcGFyYW1ldGVyIE1vZGVsaWNhLlNJdW5pdHMu%0AVm9sdGFnZSBWOwplcXVhdGlvbgogIHYgPSBob21vdG9weShhY3R1YWw9Viwgc2ltcGxpZmllZD0w%0ALjApOwplbmQgQ29uc3RhbnRWb2x0YWdlU291cmNlOw==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">ConstantVoltageSource</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">extends</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Modelica.Electrical.Analog.Interfaces.OnePort</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Modelica.SIunits.Voltage</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">V</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">v</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">homotopy</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">actual</span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">V</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">simplified</span><span class="ltx_text" style="font-size:80%;">=0</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">.0</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">ConstantVoltageSource</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
</div>
<div id="S7.SS2.SSS4.p16" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Example 3:</em>
</p>
</div>
<div id="S7.SS2.SSS4.p17" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">In fluid system modelling, the pressure/flowrate relationships are
highly nonlinear due to the quadratic terms and due to the dependency on
fluid properties. A simplified linear model, tuned on the nominal
operating point, can be used to make the overall model less nonlinear
and thus easier to solve without accurate start values. Named arguments
are used here in order to further improve the readability.</em></p>
</div>
<div id="S7.SS2.SSS4.p18" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgUHJlc3N1cmVMb3NzCiAgaW1wb3J0IFNJID0gTW9kZWxpY2EuU0l1bml0czsKICAuLi4K%0AICBwYXJhbWV0ZXIgU0kuTWFzc0Zsb3dSYXRlIG1fZmxvd19ub21pbmFsICJOb21pbmFsIG1hc3Mg%0AZmxvdyByYXRlIjsKICBwYXJhbWV0ZXIgU0kuUHJlc3N1cmUgZHBfbm9taW5hbCAiTm9taW5hbCBw%0AcmVzc3VyZSBkcm9wIjsKICBTSS5EZW5zaXR5IHJobyAiVXBzdHJlYW0gZGVuc2l0eSI7CiAgU0ku%0ARHluYW1pY1Zpc2Nvc2l0eSBsYW1iZGEgIlVwc3RyZWFtIHZpc2Nvc2l0eSI7CmVxdWF0aW9uCiAg%0ALi4uCiAgbV9mbG93ID0gaG9tb3RvcHkoYWN0dWFsID0gdHVyYnVsZW50Rmxvd19kcChkcCwgcmhv%0ALCBsYW1iZGEpLAogICAgICAgICAgICAgc2ltcGxpZmllZCA9IGRwL2RwX25vbWluYWwqbV9mbG93%0AX25vbWluYWwpOwogIC4uLgplbmQgUHJlc3N1cmVMb3NzOw==%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">PressureLoss</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">import</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SI</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Modelica.SIunits</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SI.MassFlowRate</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m_flow_nominal</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Nominal<span class="ltx_text ltx_lst_space"> </span>mass<span class="ltx_text ltx_lst_space"> </span>flow<span class="ltx_text ltx_lst_space"> </span>rate"</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SI.Pressure</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">dp_nominal</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Nominal<span class="ltx_text ltx_lst_space"> </span>pressure<span class="ltx_text ltx_lst_space"> </span>drop"</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SI.Density</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">rho</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Upstream<span class="ltx_text ltx_lst_space"> </span>density"</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">SI.DynamicViscosity</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">lambda</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Upstream<span class="ltx_text ltx_lst_space"> </span>viscosity"</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m_flow</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">homotopy</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">actual</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">turbulentFlow_dp</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">dp</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">rho</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">lambda</span><span class="ltx_text" style="font-size:80%;">),</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">simplified</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">dp</span><span class="ltx_text" style="font-size:80%;">/</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">dp_nominal</span><span class="ltx_text" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">m_flow_nominal</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">PressureLoss</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph">Example 4:</em></p>
</div>
<div id="S7.SS2.SSS4.p19" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">Note that the homotopy operator <span class="ltx_text ltx_font_bold">shall not</span> be used to
combine unrelated expressions, since this can generate singular systems
from combining two well-defined systems.</em></p>
</div>
<div id="S7.SS2.SSS4.p20" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgRG9Ob3RVc2UKICBSZWFsIHg7CiAgcGFyYW1ldGVyIFJlYWwgeDAgPSAwOwplcXVhdGlv%0AbgogIGRlcih4KSA9IDEteDsKaW5pdGlhbCBlcXVhdGlvbgogIDAgPSBob21vdG9weShkZXIoeCks%0AIHggLSB4MCk7CmVuZCBEb05vdFVzZTs=%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">DoNotUse</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">der</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1-</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">initial</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">homotopy</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">der</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">),</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x0</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">DoNotUse</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph">The initial equation is expanded into</em>
<math id="S7.SS2.SSS4.p20.m1" class="ltx_Math" alttext="0=\lambda*\mathrm{der}(x)+(1-\lambda)(x-x_{0})" display="inline"><mrow><mn>0</mn><mo>=</mo><mrow><mrow><mrow><mi>λ</mi><mo>*</mo><mi>der</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mn>1</mn><mo>-</mo><mi>λ</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>-</mo><msub><mi>x</mi><mn>0</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></math>
<em class="ltx_emph">and you can solve the two equations to give</em>
<math id="S7.SS2.SSS4.p20.m2" class="ltx_Math" alttext="x=\frac{(\lambda+(\lambda-1)x_{0})}{2\lambda-1}" display="inline"><mrow><mi>x</mi><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mrow><mi>λ</mi><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>λ</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><msub><mi>x</mi><mn>0</mn></msub></mrow></mrow><mo stretchy="false">)</mo></mrow><mrow><mrow><mn>2</mn><mo>⁢</mo><mi>λ</mi></mrow><mo>-</mo><mn>1</mn></mrow></mfrac></mrow></math>
<em class="ltx_emph">which has the correct value of <math id="S7.SS2.SSS4.p20.m3" class="ltx_Math" alttext="x_{0}" display="inline"><msub><mi>x</mi><mn>0</mn></msub></math> at <math id="S7.SS2.SSS4.p20.m4" class="ltx_Math" alttext="\lambda=0" display="inline"><mrow><mi>λ</mi><mo>=</mo><mn>0</mn></mrow></math> and of 1 at <math id="S7.SS2.SSS4.p20.m5" class="ltx_Math" alttext="\lambda=1" display="inline"><mrow><mi>λ</mi><mo>=</mo><mn>1</mn></mrow></math>, but unfortunately has a singularity at <math id="S7.SS2.SSS4.p20.m6" class="ltx_Math" alttext="\lambda=0.5" display="inline"><mrow><mi>λ</mi><mo>=</mo><mn>0.5</mn></mrow></math> .</em>
<em class="ltx_emph">]</em></p>
</div>
</section>
<section id="S7.SS2.SSS5" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">semiLinear</h4>

<div id="S7.SS2.SSS5.p1" class="ltx_para">
<p class="ltx_p"><a name="semilinear" id="semilinear" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.SSS5.p2" class="ltx_para">
<p class="ltx_p">(See definition of semiLinear in Section <a href="#S7.SS2" title="3.7.2 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.2</span></a>). In some situations,
equations with the semiLinear() function become underdetermined if the
first argument (x) becomes zero, i.e., there are an infinite number of
solutions. It is recommended that the following rules are used to
transform the equations during the translation phase in order to select
one meaningful solution in such cases:</p>
</div>
<div id="S7.SS2.SSS5.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Rule 1</span>: The equations</p>
</div>
<div id="S7.SS2.SSS5.p4" class="ltx_para">
<p class="ltx_p">y = semiLinear(x, sa, s1);</p>
</div>
<div id="S7.SS2.SSS5.p5" class="ltx_para">
<p class="ltx_p">y = semiLinear(x, s1, s2);</p>
</div>
<div id="S7.SS2.SSS5.p6" class="ltx_para">
<p class="ltx_p">y = semiLinear(x, s2, s3);</p>
</div>
<div id="S7.SS2.SSS5.p7" class="ltx_para">
<p class="ltx_p">…</p>
</div>
<div id="S7.SS2.SSS5.p8" class="ltx_para">
<p class="ltx_p">y = semiLinear(x, sN, sb);</p>
</div>
<div id="S7.SS2.SSS5.p9" class="ltx_para">
<p class="ltx_p">…</p>
</div>
<div id="S7.SS2.SSS5.p10" class="ltx_para">
<p class="ltx_p">may be replaced by</p>
</div>
<div id="S7.SS2.SSS5.p11" class="ltx_para">
<p class="ltx_p">s1 = <span class="ltx_text ltx_font_bold">if</span> x &gt;= 0 <span class="ltx_text ltx_font_bold">then</span> sa <span class="ltx_text ltx_font_bold">else</span> sb</p>
</div>
<div id="S7.SS2.SSS5.p12" class="ltx_para">
<p class="ltx_p">s2 = s1;
</p>
</div>
<div id="S7.SS2.SSS5.p13" class="ltx_para">
<p class="ltx_p">s3 = s2;</p>
</div>
<div id="S7.SS2.SSS5.p14" class="ltx_para">
<p class="ltx_p">…</p>
</div>
<div id="S7.SS2.SSS5.p15" class="ltx_para">
<p class="ltx_p"><math id="S7.SS2.SSS5.p15.m1" class="ltx_Math" alttext="s_{N}" display="inline"><msub><mi>s</mi><mi>N</mi></msub></math> = <math id="S7.SS2.SSS5.p15.m2" class="ltx_Math" alttext="s_{N-1}" display="inline"><msub><mi>s</mi><mrow><mi>N</mi><mo>-</mo><mn>1</mn></mrow></msub></math>;</p>
</div>
<div id="S7.SS2.SSS5.p16" class="ltx_para">
<p class="ltx_p">y = semiLinear(x, sa, sb);</p>
</div>
<div id="S7.SS2.SSS5.p17" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Rule 2</span>: The equations</p>
</div>
<div id="S7.SS2.SSS5.p18" class="ltx_para">
<p class="ltx_p">x = 0;</p>
</div>
<div id="S7.SS2.SSS5.p19" class="ltx_para">
<p class="ltx_p">y = 0;</p>
</div>
<div id="S7.SS2.SSS5.p20" class="ltx_para">
<p class="ltx_p">y = semiLinear(x, sa, sb);</p>
</div>
<div id="S7.SS2.SSS5.p21" class="ltx_para">
<p class="ltx_p">may be replaced by</p>
</div>
<div id="S7.SS2.SSS5.p22" class="ltx_para">
<p class="ltx_p">x = 0</p>
</div>
<div id="S7.SS2.SSS5.p23" class="ltx_para">
<p class="ltx_p">y = 0;</p>
</div>
<div id="S7.SS2.SSS5.p24" class="ltx_para">
<p class="ltx_p">sa = sb;</p>
</div>
<div id="S7.SS2.SSS5.p25" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">For symbolic transformations, the following property is useful
(this follows from the definition):</em></p>
</div>
<div id="S7.SS2.SSS5.p26" class="ltx_para">
<p class="ltx_p">semiLinear(m_flow, port_h, h);</p>
</div>
<div id="S7.SS2.SSS5.p27" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">is identical to :</em></p>
</div>
<div id="S7.SS2.SSS5.p28" class="ltx_para">
<p class="ltx_p">-semiLinear(-m_flow, h, port_h);</p>
</div>
<div id="S7.SS2.SSS5.p29" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">The</em> semiLinear <em class="ltx_emph">function is designed to handle reversing
flow in fluid systems, such as</em></p>
</div>
<div id="S7.SS2.SSS5.p30" class="ltx_para">
<p class="ltx_p">H_flow =semiLinear(m_flow, port.h, h);</p>
</div>
<div id="S7.SS2.SSS5.p31" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">i.e., the enthalpy flow rate</em> H_flow <em class="ltx_emph">is computed from the
mass flow rate</em> m_flow <em class="ltx_emph">and the upstream specific enthalpy
depending on the flow direction. </em></p>
</div>
<div id="S7.SS2.SSS5.p32" class="ltx_para">
<p class="ltx_p">]</p>
</div>
</section>
<section id="S7.SS2.SSS6" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">getInstanceName</h4>

<div id="S7.SS2.SSS6.p1" class="ltx_para">
<p class="ltx_p"><a name="getinstancename" id="getinstancename" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS2.SSS6.p2" class="ltx_para">
<p class="ltx_p">Returns a string with the name of the model/block that is simulated,
appended with the fully qualified name of the instance in which this
function is called.
</p>
</div>
<div id="S7.SS2.SSS6.p3" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example:</em></p>
</div>
<div id="S7.SS2.SSS6.p4" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFja2FnZSBNeUxpYgogIG1vZGVsIFZlaGljbGUKICAgIEVuZ2luZSBlbmdpbmU7CiAgICAuLi4K%0AICBlbmQgVmVoaWNsZTsKCiAgbW9kZWwgRW5naW5lCiAgICBDb250cm9sbGVyIGNvbnRyb2xsZXI7%0ACiAgICAuLi4KICBlbmQgRW5naW5lOwoKICBtb2RlbCBDb250cm9sbGVyCiAgZXF1YXRpb24KICAg%0AIE1vZGVsaWNhLlV0aWxpdGllcy5TdHJlYW1zLnByaW50KCJJbmZvIGZyb206ICIgKyBnZXRJbnN0%0AYW5jZU5hbWUoKSk7CiAgZW5kIENvbnRyb2xsZXI7CmVuZCBNeUxpYjs=%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">package</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">MyLib</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Vehicle</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Engine</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">engine</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Vehicle</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Engine</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Controller</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">controller</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">…</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Engine</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Controller</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Modelica.Utilities.Streams.print</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_string" style="font-size:80%;color:#000000;">"Info<span class="ltx_text ltx_lst_space"> </span>from:<span class="ltx_text ltx_lst_space"> </span>"</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">getInstanceName</span><span class="ltx_text" style="font-size:80%;">());</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Controller</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">MyLib</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
</div>
<div id="S7.SS2.SSS6.p5" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">If MyLib.Vehicle is simulated, the call of getInstanceName()
returns: "Vehicle.engine.controller"</em>]</p>
</div>
<div id="S7.SS2.SSS6.p6" class="ltx_para">
<p class="ltx_p">If this function is not called inside a model or block (e.g. the
function is called in a function or in a constant of a package), the
return value is not specified.</p>
</div>
<div id="S7.SS2.SSS6.p7" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">The simulation result should not depend on the return value of
this function.</em>]</p>
</div>
</section>
</section>
<section id="S7.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.7.3 </span>Event-Related Operators with Function Syntax</h3>

<div id="S7.SS3.p1" class="ltx_para">
<p class="ltx_p"><a name="event-related" id="event-related" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS3.p2" class="ltx_para">
<p class="ltx_p">The following event-related operators with function syntax are
supported. The operators noEvent, pre, edge, and change, are
vectorizable according to Section 12.4.6</p>
</div>
<figure id="T9" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">initial()</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns true during the initialization phase and false
otherwise [<em class="ltx_emph">thereby triggering a time event at the beginning of a
simulation</em>].</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">terminal()</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns true at the end of a successful analysis
[<em class="ltx_emph">thereby ensuring an event at the end of successful
simulation</em>].</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">noEvent(expr)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Real elementary relations within expr are taken
literally, i.e., no state or time event is triggered. See also Section
<a href="#S7.SS3.SSS2" title="noEvent and smooth ‣ 3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.3</span></a> and Section 8.5.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">smooth(p, expr)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">If p&gt;=0 smooth(p,expr)
returns expr and states that expr is p times continuously
differentiable, i.e.: expr is continuous in all real variables appearing
in the expression and all partial derivatives with respect to all
appearing real variables exist and are continuous up to order
p. The argument p should be a scalar integer parameter
expression. The only allowed types for expr in smooth are: real
expressions, arrays of allowed expressions, and records containing only
components of allowed expressions. See also Section
<a href="#S7.SS3.SSS2" title="noEvent and smooth ‣ 3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.3</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">sample(start,interval)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns true and triggers time events at time
instants start + i*interval (i=0,1,…). During continuous integration
the operator returns always false. The starting time start and the
sample interval interval need to be parameter expressions and need to be
a subtype of Real or Integer.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">pre(y)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Returns the ‘‘left limit’’ y(t<sup class="ltx_sup">pre</sup>) of
variable y(t) at a time instant t. At an event instant,
y(t<sup class="ltx_sup">pre</sup>) is the value of y after the last event
iteration at time instant t (see comment below). The pre() operator can
be applied if the following three conditions are fulfilled
simultaneously: (a) variable y is either a subtype of a simple type or
is a record component, (b) y is a discrete-time expression (c) the
operator is <em class="ltx_emph">not</em> applied in a function class. [<em class="ltx_emph">Note: This
can be applied to continuous-time variables in when-clauses, see Section
3.8.3 for the definition of discrete-time expression.</em>] The first
value of pre(y) is determined in the initialization phase. See also
Section <a href="#S7.SS3.SSS1" title="pre ‣ 3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.7.3</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">edge(b)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Is expanded into ‘‘(b and not pre(b))’’ for Boolean variable
b. The same restrictions as for the pre() operator apply (e.g. not to be
used in function classes).</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">change(v)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">Is expanded into "(v&lt;&gt;pre(v))". The
same restrictions as for the pre() operator apply.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;">reinit(x, expr)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:227.6pt;">In the body of a when clause, reinitializes x with
expr at an event instant. x is a Real variable (or an array of Real
variables) that is implicitly defined to have StateSelect.always
[<em class="ltx_emph">so must be selected as a state, and it is an error, if
this is not possible</em>]. expr needs to be type-compatible with x. The
reinit operator can only be applied once for the same variable - either
as an individual variable or as part of an array of variables. It can
only be applied in the body of a when clause in an equation section. See
also Section 8.3.6 .</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:91.0pt;"></td>
<td class="ltx_td ltx_align_justify ltx_border_t" style="width:227.6pt;"></td>
</tr>
</table>
</figure>
<div id="S7.SS3.p3" class="ltx_para">
<p class="ltx_p">A few of these operators are described in more detail in the following.</p>
</div>
<section id="S7.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">pre</h4>

<div id="S7.SS3.SSS1.p1" class="ltx_para">
<p class="ltx_p"><a name="pre" id="pre" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS3.SSS1.p2" class="ltx_para">
<p class="ltx_p">A new event is triggered if at least for one variable v ‘‘pre(v)
&lt;&gt; v’’ after the active model equations are
evaluated at an event instant. In this case the model is at once
reevaluated. This evaluation sequence is called ‘‘<em class="ltx_emph">event
iteration</em>’’. The integration is restarted, if for all v used in
pre-operators the following condition holds: ‘‘pre(v) == v’’.</p>
</div>
<div id="S7.SS3.SSS1.p3" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">If</em> v <em class="ltx_emph">and</em> pre(v) <em class="ltx_emph">are only used in when-clauses,
the translator might mask event iteration for variable v since v cannot
change during event iteration. It is a ‘‘quality of implementation’’ to
find the minimal loops for event iteration, i.e., not all parts of the
model need to be reevaluated. </em></p>
</div>
<div id="S7.SS3.SSS1.p4" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph">The language allows mixed algebraic systems of equations where the
unknown variables are of type Real, Integer, Boolean, or an enumeration.
These systems of equations can be solved by a global fix point iteration
scheme, similarly to the event iteration, by fixing the Boolean,
Integer, and/or enumeration unknowns during one iteration. Again, it is
a quality of implementation to solve these systems more efficiently,
e.g., by applying the fix point iteration scheme to a subset of the
model equations.</em>]</p>
</div>
</section>
<section id="S7.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">noEvent and smooth</h4>

<div id="S7.SS3.SSS2.p1" class="ltx_para">
<p class="ltx_p"><a name="noevent-and-smooth" id="noevent-and-smooth" class="ltx_anchor"></a></p>
</div>
<div id="S7.SS3.SSS2.p2" class="ltx_para">
<p class="ltx_p">The noEvent operator implies that real elementary expressions are taken
literally instead of generating crossing functions, Section 8.5. The
smooth operator should be used instead of noEvent, in order to avoid
events for efficiency reasons. A tool is free to not generate events for
expressions inside smooth. However, smooth does not guarantee that no
events will be generated, and thus it can be necessary to use noEvent
inside smooth. [<em class="ltx_emph">Note that <em class="ltx_emph">smooth</em> does not guarantee a
smooth output if any of the occurring variables change
discontinuously.</em>]</p>
</div>
<div id="S7.SS3.SSS2.p3" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBSZWFsIHgseSx6OwogIHBhcmFtZXRlciBSZWFsIHA7CmVxdWF0aW9uCiAgeCA9IGlmIHRpbWU8%0AMSB0aGVuIDIgZWxzZSB0aW1lLTI7CiAgeiA9IHNtb290aCgwLCBpZiB0aW1lPDAgdGhlbiAwIGVs%0Ac2UgdGltZSk7CiAgeSA9IHNtb290aCgxLCBub0V2ZW50KGlmIHg8MCB0aGVuIDAgZWxzZSBzcXJ0%0AKHgpKngpKTsgLy8gbm9FdmVudCBpcyBuZWNlc3Nhcnku%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span class="ltx_text" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">z</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">time</span><span class="ltx_text" style="font-size:80%;">&lt;1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">time</span><span class="ltx_text" style="font-size:80%;">-2;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">z</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">smooth</span><span class="ltx_text" style="font-size:80%;">(0,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">time</span><span class="ltx_text" style="font-size:80%;">&lt;0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">time</span><span class="ltx_text" style="font-size:80%;">);</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">y</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">smooth</span><span class="ltx_text" style="font-size:80%;">(1,</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">noEvent</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">if</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">&lt;0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">then</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">0</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">else</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">sqrt</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">)*</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">));</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>noEvent<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>necessary.</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph"></em>]</p>
</div>
</section>
</section>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3.8 </span>Variability of Expressions</h2>

<div id="S8.p1" class="ltx_para">
<p class="ltx_p"><a name="variability-of-expressions" id="variability-of-expressions" class="ltx_anchor"></a></p>
</div>
<div id="S8.p2" class="ltx_para">
<p class="ltx_p">The concept of variability of an expression indicates to what extent the
expression can vary over time. See also Section <a href="Ch4.html#S4.SS4" title="4.4.4 Component Variability Prefixes discrete, parameter, constant ‣ 4.4 Component Declarations ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4.4</span></a> regarding the
concept of variability. There are four levels of variability of
expressions, starting from the least variable:</p>
</div>
<div id="S8.p3" class="ltx_para">
<ul id="I5" class="ltx_itemize">
<li id="I5.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I5.i1.p1" class="ltx_para">
<p class="ltx_p">constant variability</p>
</div>
</li>
</ul>
</div>
<div id="S8.p4" class="ltx_para">
<ul id="I6" class="ltx_itemize">
<li id="I6.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I6.i1.p1" class="ltx_para">
<p class="ltx_p">parameter variability</p>
</div>
</li>
<li id="I6.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I6.i2.p1" class="ltx_para">
<p class="ltx_p">discrete-time variability</p>
</div>
</li>
<li id="I6.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I6.i3.p1" class="ltx_para">
<p class="ltx_p">continuous-time variability</p>
</div>
</li>
</ul>
</div>
<div id="S8.p5" class="ltx_para">
<p class="ltx_p">For an assignment v:=expr or binding equation v=expr, v must be declared
to be at least as variable as expr.</p>
</div>
<div id="S8.p6" class="ltx_para">
<ul id="I7" class="ltx_itemize">
<li id="I7.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I7.i1.p1" class="ltx_para">
<p class="ltx_p">The right-hand side expression in a binding equation [<em class="ltx_emph">that is,
expr</em>] of a parameter component and of the base type attributes
[<em class="ltx_emph">such as</em> start] needs to be a parameter or constant
expression.</p>
</div>
</li>
<li id="I7.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I7.i2.p1" class="ltx_para">
<p class="ltx_p">If v is a discrete-time component then expr needs to be a
discrete-time expression.
</p>
</div>
</li>
</ul>
</div>
<section id="S8.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.8.1 </span>Constant Expressions</h3>

<div id="S8.SS1.p1" class="ltx_para">
<p class="ltx_p"><a name="constant-expressions" id="constant-expressions" class="ltx_anchor"></a>
Constant expressions are:</p>
</div>
<div id="S8.SS1.p2" class="ltx_para">
<ul id="I8" class="ltx_itemize">
<li id="I8.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I8.i1.p1" class="ltx_para">
<p class="ltx_p">Real, Integer, Boolean, String, and enumeration literals.</p>
</div>
</li>
<li id="I8.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I8.i2.p1" class="ltx_para">
<p class="ltx_p">Variables declared as constant.</p>
</div>
</li>
<li id="I8.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I8.i3.p1" class="ltx_para">
<p class="ltx_p">Except for the special built-in operators initial, terminal, der,
edge, change, sample, and pre, a function or operator with constant
subexpressions as argument (and no parameters defined in the function)
is a constant expression.</p>
</div>
</li>
</ul>
</div>
<div id="S8.SS1.p3" class="ltx_para">
<p class="ltx_p">Components declared as constant shall have an associated declaration equation with
a constant expression, if the constant is directly in the simulation
model, or used in the simulation model. The value of a constant can be
modified after it has been given a value, unless the constant is
declared final or modified with a final modifier. A constant without an
associated declaration equation can be given one by using a modifier.</p>
</div>
</section>
<section id="S8.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.8.2 </span>Parameter Expressions</h3>

<div id="S8.SS2.p1" class="ltx_para">
<p class="ltx_p"><a name="parameter-expressions" id="parameter-expressions" class="ltx_anchor"></a>
</p>
</div>
<div id="S8.SS2.p2" class="ltx_para">
<p class="ltx_p">Parameter expressions are:</p>
</div>
<div id="S8.SS2.p3" class="ltx_para">
<ul id="I9" class="ltx_itemize">
<li id="I9.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I9.i1.p1" class="ltx_para">
<p class="ltx_p">Constant expressions.</p>
</div>
</li>
<li id="I9.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I9.i2.p1" class="ltx_para">
<p class="ltx_p">Variables declared as parameter.</p>
</div>
</li>
<li id="I9.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I9.i3.p1" class="ltx_para">
<p class="ltx_p">Except for the special built-in operators initial, terminal, der,
edge, change, sample, and pre, a function or operator with parameter
subexpressions is a parameter expression.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S8.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.8.3 </span>Discrete-Time Expressions</h3>

<div id="S8.SS3.p1" class="ltx_para">
<p class="ltx_p"><a name="discrete-time-expressions" id="discrete-time-expressions" class="ltx_anchor"></a>
Discrete-time expressions are:</p>
</div>
<div id="S8.SS3.p2" class="ltx_para">
<ul id="I10" class="ltx_itemize">
<li id="I10.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i1.p1" class="ltx_para">
<p class="ltx_p">Parameter expressions.</p>
</div>
</li>
<li id="I10.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i2.p1" class="ltx_para">
<p class="ltx_p">Discrete-time variables, i.e., Integer, Boolean, String variables and
enumeration variables, as well as Real variables assigned in
when-clauses</p>
</div>
</li>
<li id="I10.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i3.p1" class="ltx_para">
<p class="ltx_p">Function calls where all input arguments of the function are
discrete-time expressions.</p>
</div>
</li>
<li id="I10.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i4.p1" class="ltx_para">
<p class="ltx_p">Expressions where all the subexpressions are discrete-time
expressions.</p>
</div>
</li>
<li id="I10.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i5.p1" class="ltx_para">
<p class="ltx_p">Expressions in the body of a when-clause, initial equation, or initial
algorithm.</p>
</div>
</li>
<li id="I10.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i6.p1" class="ltx_para">
<p class="ltx_p">Unless inside noEvent: Ordered relations
(&gt;,&lt;,&gt;=,&lt;=) if at least
one operand is a subtype of Real (i.e. Real elementary relations, see
Section <a href="#S5" title="3.5 Equality, Relational, and Logical Operators ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.5</span></a>) and the functions ceil, floor, div, mod, rem. These will
generate events if at least one subexpression is not a discrete-time
expression. [<em class="ltx_emph">In other words, relations inside</em>
noEvent()<em class="ltx_emph">, such as</em> noEvent(x&gt;1)<em class="ltx_emph">, are not
discrete-time expressions</em>].</p>
</div>
</li>
<li id="I10.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i7.p1" class="ltx_para">
<p class="ltx_p">The functions pre, edge, and change result in discrete-time
expressions.</p>
</div>
</li>
<li id="I10.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_itemize">•</span> 
<div id="I10.i8.p1" class="ltx_para">
<p class="ltx_p">Expressions in functions behave as though they were discrete-time
expressions.</p>
</div>
</li>
</ul>
</div>
<div id="S8.SS3.p3" class="ltx_para">
<p class="ltx_p">For an equation expr1 = expr2 where neither expression is of base type
Real, both expressions must be discrete-time expressions. For record
equations the equation is split into basic types before applying this
test. [<em class="ltx_emph">This restriction guarantees that the</em> noEvent()
<em class="ltx_emph">operator cannot be applied to</em> Boolean<em class="ltx_emph">,</em> Integer<em class="ltx_emph">,</em>
String<em class="ltx_emph">, or enumeration equations outside of a when-clause, because
then one of the two expressions is not discrete-time</em>]</p>
</div>
<div id="S8.SS3.p4" class="ltx_para">
<p class="ltx_p">Inside an if-expression, if-clause, while-statement or for-clause, that
is controlled by a non-discrete-time (that is continuous-time, but not
discrete-time) switching expression and not in the body of a
when-clause, it is not legal to have assignments to discrete variables,
equations between discrete-time expressions, or real elementary
relations/functions that should generate events. [<em class="ltx_emph">This
restriction is necessary in order to guarantee that there all equations
for discrete variable are discrete-time expressions, and to ensure that
crossing functions do not become active between events.</em>]</p>
</div>
<div id="S8.SS3.p5" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Example:</em></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgQ29uc3RhbnRzCiAgcGFyYW1ldGVyIFJlYWwgcDEgPSAxOwogIGNvbnN0YW50IFJlYWwg%0AYzEgPSBwMSArIDI7IC8vIGVycm9yLCBubyBjb25zdGFudCBleHByZXNzaW9uCiAgcGFyYW1ldGVy%0AIFJlYWwgcDIgPSBwMSArIDI7IC8vIGZpbmUKZW5kIENvbnN0YW50czs=%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Constants</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">constant</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">c1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">2;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>constant<span class="ltx_text ltx_lst_space"> </span>expression</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p2</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p1</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">2;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Constants</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgVGVzdAogIENvbnN0YW50cyBjMShwMT0zKTsgLy8gZmluZQogIENvbnN0YW50cyBjMihw%0AMj03KTsgLy8gZmluZSwgZGVjbGFyYXRpb24gZXF1YXRpb24gY2FuIGJlIG1vZGlmaWVkCiAgQm9v%0AbGVhbiBiOwogIFJlYWwgeDsKZXF1YXRpb24KICBiID0gbm9FdmVudCh4ID4gMSkgLy8gZXJyb3Is%0AIHNpbmNlIGIgaXMgYSBkaXNjcmV0ZS10aW1lIGV4cHIuIGFuZAogIC8vIG5vRXZlbnQoeCA+IDEp%0AIGlzIG5vdCBhIGRpc2NyZXRlLXRpbWUgZXhwci4KZW5kIFRlc3Q7%0A">⬇</a></div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">model</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Test</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Constants</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">c1</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p1</span><span class="ltx_text" style="font-size:80%;">=3);</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Constants</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">c2</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">p2</span><span class="ltx_text" style="font-size:80%;">=7);</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine,<span class="ltx_text ltx_lst_space"> </span>declaration<span class="ltx_text ltx_lst_space"> </span>equation<span class="ltx_text ltx_lst_space"> </span>can<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>modified</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">b</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">equation</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">b</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keywords3" style="font-size:80%;color:#E60000;">noEvent</span><span class="ltx_text" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">x</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">&gt;</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text" style="font-size:80%;">1)</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error,<span class="ltx_text ltx_lst_space"> </span>since<span class="ltx_text ltx_lst_space"> </span>b<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>discrete-time<span class="ltx_text ltx_lst_space"> </span>expr.<span class="ltx_text ltx_lst_space"> </span>and</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_space" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment" style="font-size:80%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>noEvent(x<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>1)<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>discrete-time<span class="ltx_text ltx_lst_space"> </span>expr.</span>
</div>
<div class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="font-size:80%;color:#000066;">end</span><span class="ltx_text ltx_lst_space" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier" style="font-size:80%;">Test</span><span class="ltx_text" style="font-size:80%;">;</span>
</div>
</div>
<p class="ltx_p"><em class="ltx_emph"></em>]</p>
</div>
</section>
<section id="S8.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.8.4 </span>Continuous-Time Expressions</h3>

<div id="S8.SS4.p1" class="ltx_para">
<p class="ltx_p"><a name="continuous-time-expressions" id="continuous-time-expressions" class="ltx_anchor"></a></p>
</div>
<div id="S8.SS4.p2" class="ltx_para">
<p class="ltx_p">All expressions are continuous-time expressions including constant,
parameter and discrete expressions. The term ‘‘non-discrete-time
expression’’ refers to expressions that are not constant, parameter or
discrete expressions.</p>
</div>
</section>
</section>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a><a href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a>
</div>
<div class="ltx_page_logo">Generated  on Tue Oct 10 11:49:58 2017 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>
</body>
</html>
